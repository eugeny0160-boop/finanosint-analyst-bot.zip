# Мониторинг и Аналитика Новостей

Этот бот мониторит RSS-ленты и веб-сайты, фильтрует новости по ключевым словам, связанным с Россией и Украиной, сохраняет уникальные статьи в Supabase и отправляет их в Telegram-каналы. Также генерирует аналитические записки.

## Требования

*   Python 3.8+
*   Supabase (для хранения данных)
*   Telegram Bot Token (от @BotFather)

## Переменные Окружения

*   `TELEGRAM_BOT_TOKEN`: Токен вашего Telegram-бота.
*   `CHANNEL_ID1`: ID Telegram-канала(-ов), разделенные запятой (например, `-1001234567890,-1009876543210`).
*   `CHANNEL_ID2`: (Опционально) Дополнительные ID каналов.
*   `SUPABASE_URL`: URL вашего Supabase проекта.
*   `SUPABASE_KEY`: Ключ анонимного пользователя вашего Supabase проекта.
*   `PORT`: Порт для HTTP-сервера (по умолчанию 10000).

## Запуск на Render

1.  Создайте репозиторий на GitHub и загрузите туда этот код.
2.  Настройте новый Web Service на Render.
3.  Укажите `main.py` как точку входа (`python main.py`).
4.  Установите переменные окружения в настройках сервиса Render.
5.  Render автоматически использует `requirements.txt`.
6.  Для предотвращения "засыпания", настройте отдельный `Cron Job` (см. ниже).

## Предотвращение "засыпания" на Render

Render "спит" веб-сервисы, если они не получают HTTP-трафик в течение 15 минут. Чтобы этого избежать, можно настроить внешний сервис (например, UptimeRobot, Cron-Job.org) для периодического GET-запроса к `https://<your-render-service-url>/health`. Это будет держать веб-сервис "пробужденным".

Также можно создать отдельный **Cron Job** сервис на Render, который будет выполнять задачи по расписанию. Однако, если основная логика (парсинг, аналитика) должна работать постоянно, веб-сервис + внешний "пинг" более подходящий вариант, чем отдельный Cron Job, который запускается эпизодически.
